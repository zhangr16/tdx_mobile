(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68ee4266"],{"0fed":function(e,t,r){},"2bb8":function(e,t,r){"use strict";var s=r("0fed"),a=r.n(s);a.a},"504b":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"resetPassword"},[r("header",[r("van-icon",{staticClass:"left_arrow",attrs:{name:"arrow-left"},on:{click:function(t){return e.$router.go(-1)}}}),e._v("修改密码\n  ")],1),r("main",[r("van-field",{attrs:{clearable:"",type:"password",label:"原始密码",placeholder:"请输入原始密码","error-message":e.validateMsg.old_pwd},on:{input:e.validateOldpassword},model:{value:e.userForm.old_pwd,callback:function(t){e.$set(e.userForm,"old_pwd","string"===typeof t?t.trim():t)},expression:"userForm.old_pwd"}}),r("van-field",{attrs:{clearable:"",type:"password",label:"新登录密码",placeholder:"请输入新登录密码","error-message":e.validateMsg.new_pwd},on:{input:e.validatePassword},model:{value:e.userForm.new_pwd,callback:function(t){e.$set(e.userForm,"new_pwd","string"===typeof t?t.trim():t)},expression:"userForm.new_pwd"}}),r("van-field",{attrs:{clearable:"",type:"password",label:"确认密码",placeholder:"请确认密码","error-message":e.validateMsg.re_pwd},on:{input:e.validateRepassword},model:{value:e.userForm.re_pwd,callback:function(t){e.$set(e.userForm,"re_pwd","string"===typeof t?t.trim():t)},expression:"userForm.re_pwd"}}),r("van-cell",[r("div",{staticClass:"submit_btn",on:{click:e.handleSubmit}},[e._v("提交修改")])])],1)])},a=[],n=(r("96cf"),r("3b8d")),d=r("ee01"),i={name:"resetPassword",components:{},data:function(){return{userForm:{old_pwd:"",new_pwd:"",re_pwd:"",platform:"2c"},validateMsg:{old_pwd:"",new_pwd:"",re_pwd:""}}},methods:{validateOldpassword:function(){if(this.userForm.old_pwd.length<5||this.userForm.old_pwd.length>13)this.validateMsg.old_pwd="原密码长度不能小于5位或大于13位";else{if(!(escape(this.userForm.old_pwd).indexOf("%u")>=0))return this.validateMsg.old_pwd="",!0;this.validateMsg.old_pwd="原密码不能有中文"}},validatePassword:function(){if(this.userForm.new_pwd.length<5||this.userForm.new_pwd.length>13)this.validateMsg.new_pwd="新密码长度不能小于5位或大于13位";else if(escape(this.userForm.new_pwd).indexOf("%u")>=0)this.validateMsg.new_pwd="新密码不能有中文";else{if(this.userForm.new_pwd!=this.userForm.old_pwd)return""!=this.userForm.re_pwd&&this.validateRepassword(),this.validateMsg.new_pwd="",!0;this.validateMsg.new_pwd="新旧密码不能相同"}},validateRepassword:function(){if(this.userForm.re_pwd.length<5||this.userForm.re_pwd.length>13)this.validateMsg.re_pwd="密码长度不能小于5位或大于13位";else if(escape(this.userForm.re_pwd).indexOf("%u")>=0)this.validateMsg.re_pwd="密码不能有中文";else{if(this.userForm.re_pwd==this.userForm.new_pwd)return this.validateMsg.re_pwd="",!0;this.validateMsg.re_pwd="两次输入密码不一致"}},handleSubmit:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.validateOldpassword(),this.validatePassword(),this.validateRepassword(),""!=this.validateMsg.old_pwd||""!=this.validateMsg.new_pwd||""!=this.validateMsg.re_pwd){e.next=8;break}return e.next=6,Object(d["e"])(this.userForm);case 6:t=e.sent,t&&200==t.error.errno&&(this.$toast.success("密码修改成功！请重新登录"),this.$store.dispatch("LogOut").then(function(e){e&&r.$router.push({path:"/login?type=user"})}).catch(function(e){}));case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},o=i,u=(r("2bb8"),r("2877")),l=Object(u["a"])(o,s,a,!1,null,null,null);t["default"]=l.exports},ee01:function(e,t,r){"use strict";r.d(t,"d",function(){return a}),r.d(t,"c",function(){return n}),r.d(t,"j",function(){return d}),r.d(t,"f",function(){return i}),r.d(t,"k",function(){return o}),r.d(t,"h",function(){return u}),r.d(t,"e",function(){return l}),r.d(t,"i",function(){return p}),r.d(t,"a",function(){return c}),r.d(t,"b",function(){return w}),r.d(t,"g",function(){return h});var s=r("b775");function a(e){return Object(s["a"])({url:"/u/integraldetail",method:"post",params:e})}function n(e){return Object(s["a"])({url:"/u/fundsummary",method:"post",params:e})}function d(e){return e?Object(s["a"])({url:"/u/withdraw",method:"post",params:e}):Object(s["a"])({url:"/u/withdraw",method:"get"})}function i(e){return Object(s["a"])({url:"/u/transactiondetail",method:"post",params:e})}function o(e){return Object(s["a"])({url:"/u/Withdrawdetail",method:"post",params:e})}function u(e){return e?Object(s["a"])({url:"/u/info",method:"post",params:e}):Object(s["a"])({url:"/u/info",method:"get"})}function l(e){return Object(s["a"])({url:"/sys/modifypwd",method:"post",params:e})}function p(e){return e?Object(s["a"])({url:"/u/prove",method:"post",params:e}):Object(s["a"])({url:"/u/prove",method:"get"})}function c(e){return Object(s["a"])({url:"/u/Activityaward",method:"post",params:e})}function w(e){return Object(s["a"])({url:"/sys/Changepwd",method:"post",params:e})}function h(e){return e?Object(s["a"])({url:"/u/bank",method:"post",data:e}):Object(s["a"])({url:"/u/bank",method:"get"})}}}]);