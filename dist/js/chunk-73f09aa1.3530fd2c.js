(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73f09aa1"],{"1b73":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"certification"},[n("header",[n("van-icon",{staticClass:"left_arrow",attrs:{name:"arrow-left"},on:{click:function(e){return t.$router.push("/mine")}}}),t._v("实名认证\n  ")],1),n("main",[n("van-field",{attrs:{label:"真实姓名",placeholder:"请输入注册账户",clearable:"",disabled:!t.entity.is_submit},model:{value:t.entity.real_name,callback:function(e){t.$set(t.entity,"real_name","string"===typeof e?e.trim():e)},expression:"entity.real_name"}}),n("van-cell",{staticClass:"_exchanger",attrs:{title:"性别"}},[n("van-radio-group",{attrs:{"checked-color":"#ff5500",disabled:!t.entity.is_submit},model:{value:t.entity.gender,callback:function(e){t.$set(t.entity,"gender",e)},expression:"entity.gender"}},[n("van-radio",{attrs:{name:"男"}},[t._v("男")]),n("van-radio",{attrs:{name:"女"}},[t._v("女")])],1)],1),n("van-field",{attrs:{type:"number",label:"年龄",placeholder:"请输入年龄",maxlength:"3",clearable:"",disabled:!t.entity.is_submit},model:{value:t.entity.age,callback:function(e){t.$set(t.entity,"age",e)},expression:"entity.age"}}),n("van-field",{attrs:{label:"淘宝会员名",placeholder:"请输入会员名",clearable:"",disabled:!t.entity.is_submit},model:{value:t.entity.ww_name,callback:function(e){t.$set(t.entity,"ww_name",e)},expression:"entity.ww_name"}}),n("van-cell",{staticClass:"uploads",attrs:{title:"支付宝截图"}},[n("van-uploader",{attrs:{"after-read":t.afterRead,"before-delete":t.beforeDel,"max-count":1,disabled:!t.entity.is_submit},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1),t.entity.is_submit?n("van-cell",[n("div",{staticClass:"submit_btn",on:{click:t.handleSubmit}},[t._v("提交认证申请")]),n("div",{staticClass:"_tips"},[t._v('打开手机支付宝登录支付宝 → 点击"我的" → 点击"昵称" → 截图(需要显示真实姓名和旺旺账号)')])]):t._e()],1)])},a=[],i=(n("96cf"),n("3b8d")),s=n("ee01"),u=n("365c"),c={name:"certification",components:{},data:function(){return{fileList:[],entity:{gender:"男"}}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["i"])();case 2:e=t.sent,e&&200==e.error.errno&&(this.entity=e.data,this.entity.prove_img&&this.fileList.push({url:this.entity.prove_img}));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{afterRead:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("img",e.file),t.next=4,Object(u["v"])(n);case 4:r=t.sent,r&&200==r.error.errno&&(this.$toast.success("图片上传成功"),e.url=r.url);case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),beforeDel:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.entity.is_submit){t.next=5;break}this.$toast.fail("不可编辑"),callback(!1),t.next=11;break;case 5:return t.next=7,Object(u["c"])({url:e.url});case 7:if(n=t.sent,!n||200!=n.error.errno){t.next=11;break}return this.$toast.success("图片删除成功"),t.abrupt("return",!0);case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),handleSubmit:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log(this.entity),this.fileList.length<=0?this.$toast.fail("请上传支付宝截图"):this.entity.real_name?this.entity.age?this.entity.ww_name?this.$dialog.confirm({message:"是否确认提交申请？"}).then(Object(i["a"])(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.entity.prove_img=e.fileList[0].url,t.next=3,Object(s["i"])(e.entity);case 3:n=t.sent,n&&200==n.error.errno&&(e.$toast.success("认证申请成功！"),setTimeout(function(){e.$router.push("/mine")},500));case 5:case"end":return t.stop()}},t)}))).catch(function(){}):this.$toast.fail("请填写淘宝会员名"):this.$toast.fail("请填写年龄"):this.$toast.fail("请填写真实姓名");case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},o=c,l=(n("e82f"),n("2877")),f=Object(l["a"])(o,r,a,!1,null,null,null);e["default"]=f.exports},d9a2:function(t,e,n){},e82f:function(t,e,n){"use strict";var r=n("d9a2"),a=n.n(r);a.a},ee01:function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"c",function(){return i}),n.d(e,"j",function(){return s}),n.d(e,"f",function(){return u}),n.d(e,"h",function(){return c}),n.d(e,"e",function(){return o}),n.d(e,"i",function(){return l}),n.d(e,"a",function(){return f}),n.d(e,"b",function(){return d}),n.d(e,"g",function(){return m});var r=n("b775");function a(t){return Object(r["a"])({url:"/u/integraldetail",method:"post",params:t})}function i(t){return Object(r["a"])({url:"/u/fundsummary",method:"post",params:t})}function s(t){return t?Object(r["a"])({url:"/u/withdraw",method:"post",params:t}):Object(r["a"])({url:"/u/withdraw",method:"get"})}function u(t){return Object(r["a"])({url:"/u/transactiondetail",method:"post",params:t})}function c(t){return t?Object(r["a"])({url:"/u/info",method:"post",params:t}):Object(r["a"])({url:"/u/info",method:"get"})}function o(t){return Object(r["a"])({url:"/sys/modifypwd",method:"post",params:t})}function l(t){return t?Object(r["a"])({url:"/u/prove",method:"post",params:t}):Object(r["a"])({url:"/u/prove",method:"get"})}function f(t){return Object(r["a"])({url:"/u/Activityaward",method:"post",params:t})}function d(t){return Object(r["a"])({url:"/sys/Changepwd",method:"post",params:t})}function m(t){return t?Object(r["a"])({url:"/u/bank",method:"post",data:t}):Object(r["a"])({url:"/u/bank",method:"get"})}}}]);